<!-- Section  -->
<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-scale-multiple" [fullScreen]="true">
  <p style="color: white ;font-size: 20px;"> {{'page-form.loading'|translate}} </p>
</ngx-spinner>

<section class="inner-page-wrapper inner-page-wrapper-building">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <div class="card m-0 mb-5">
          <div class="card-body">
            <form [formGroup]="VendorForm" id="VendorFormSubmit" class="tabs-form">
              <div class="main-customer">
                <div class="wrapper-title">
                  <h3>{{'page-form.vendor-information'|translate}}</h3>
                  <div class="row">
                    <div class="col gap-2 grid grid-cols-3 ">
                      <div class=" ">
                        <label for="vendorNumber" class="label-name">{{'page-form.vendor-number'|translate}} <span
                            class="text-danger">*</span></label>
                        <div class="form-group input-group">
                          <input type="text" class="form-control icon-user" name="vendorNumber"
                            formControlName="vendorNumber">
                          <div
                            *ngIf="(f['vendorNumber'].touched || f['vendorNumber'].dirty ) && f['vendorNumber'].invalid"
                            class="alert alert-danger">
                            <i class="fa fa-close "></i>
                            <span *ngIf="f['vendorNumber'].errors && f['vendorNumber'].errors['required']">
                              {{'validation-messages.required-field'|translate}}</span>
                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="nameAr" class="label-name">{{'page-form.name-arabic'|translate}} <span
                            class="text-danger">*</span></label>
                        <div class="form-group input-group">
                          <input type="text" class="form-control" name="nameAr" formControlName="nameAr">
                          <div *ngIf="(f['nameAr'].touched || f['nameAr'].dirty ) && f['nameAr'].invalid"
                            class="alert alert-danger">
                            <i class="fa fa-close "></i>
                            <span *ngIf="f['nameAr'].errors && f['nameAr'].errors['required']">
                              {{'validation-messages.required-field'|translate}}</span>
                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="nameEn" class="label-name">{{'page-form.name-latin'|translate}} <span
                            class="text-danger">*</span></label>
                        <div class="form-group input-group">
                          <input type="text" class="form-control" name="nameEn" formControlName="nameEn">
                          <div *ngIf="(f['nameEn'].touched || f['nameEn'].dirty ) && f['nameEn'].invalid"
                            class="alert alert-danger">
                            <i class="fa fa-close "></i>
                            <span *ngIf="f['nameEn'].errors && f['nameEn'].errors['required']">
                              {{'validation-messages.required-field'|translate}}</span>
                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="phone" class="label-name">{{'page-form.phone-number'|translate}}</label>
                        <div class="form-group input-group">
                          <input type="text" maxLength="20" class="form-control" name="phone" formControlName="phone">
                          <div *ngIf="f['phone'].touched && f['phone'].invalid" class=" alert-danger validtion">
                            <div *ngIf="f['phone'].errors && f['phone'].invalid"><i class="fa fa-close "></i>
                              {{'validation-messages.invalid-phone'|translate}}
                            </div>
                            <div *ngIf="f['phone'].errors && f['phone'].errors['pattern']">
                              <i class="fa fa-close "></i> {{'validation-messages.phone-pattern'|translate}}
                            </div>
                          </div>
                          <div class="validation alert-success"
                            *ngIf="f['phone'].touched && f['phone'].valid && f['phone'].dirty">
                            <i class="fa fa-check"></i> {{'validation-messages.valid-phone'|translate}}
                          </div>
                          <div class="validtion alert-danger"
                            *ngIf="(f['phone'].touched && f['phone'].errors) && f['phone'].errors['required']">
                            <i class="fa fa-close "></i> {{'general.required'|translate}}

                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="mobile" class="label-name">{{'page-form.mobile-number'|translate}}</label>
                        <div class="form-group input-group">
                          <input type="text" maxLength="20" class="form-control" name="mobile" formControlName="mobile">
                          <div *ngIf="f['mobile'].touched && f['mobile'].invalid" class=" alert-danger validtion">
                            <div *ngIf="f['mobile'].errors && f['mobile'].invalid"><i class="fa fa-close "></i>
                              {{'validation-messages.invalid-mobile'|translate}}
                            </div>
                            <div *ngIf="f['mobile'].errors && f['mobile'].errors['pattern']">
                              <i class="fa fa-close "></i> {{'validation-messages.phone-pattern'|translate}}.
                            </div>
                          </div>
                          <div class="validation alert-success"
                            *ngIf="f['mobile'].touched && f['mobile'].valid && f['mobile'].dirty">
                            <i class="fa fa-check"></i> {{'validation-messages.valid-mobile'|translate}}
                          </div>
                          <div class="validtion alert-danger"
                            *ngIf="(f['mobile'].touched && f['mobile'].errors) && f['mobile'].errors['required']">
                            <i class="fa fa-close "></i> {{'general.required'|translate}}

                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="fax" class="label-name">{{'page-form.fax'|translate}}</label>
                        <div class="form-group input-group">
                          <input type="text" class="form-control" maxLength="20" name="fax" formControlName="fax">
                          <div *ngIf="f['fax'].touched && f['fax'].invalid" class=" alert-danger validtion">
                            <div *ngIf="f['fax'].errors && f['fax'].invalid"><i class="fa fa-close "></i>
                              {{'validation-messages.invalid-mobile'|translate}}
                            </div>
                            <div *ngIf="f['fax'].errors && f['fax'].errors['pattern']"> <i
                                class="fa fa-close "></i>{{'general.numbers-only'|translate}}.
                            </div>
                          </div>
                          <div class="validation alert-success"
                            *ngIf="f['fax'].touched && f['fax'].valid && f['fax'].dirty"> <i class="fa fa-check"></i>
                            {{'validation-messages.valid-mobile'|translate}}
                          </div>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="email" class="label-name">{{'page-form.email'|translate}}</label>
                        <div class="form-group input-group">
                          <input type="email" class="form-control" name="email" formControlName="email"
                            pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$">
                          <div class="validtion alert-danger"
                            *ngIf="(f['email'].touched && f['email'].dirty) && f['email'].invalid">
                            <i class="fa fa-close "></i> {{'validation-messages.invalid-email'|translate}}
                          </div>
                          <div *ngIf="f['email'].touched && f['email'].valid && f['email'].dirty"
                            class="validtion alert-success">
                            <i class="fa fa-check"></i> {{'validation-messages.valid-email'|translate}}
                          </div>
                          <div class="validtion alert-danger"
                            *ngIf="(f['email'].touched && f['email'].errors) && f['email'].errors['required']">
                            <i class="fa fa-close "></i> {{'general.required'|translate}}

                          </div>

                        </div>
                      </div>
                      <div class=" ">
                        <label for="identityNo" class="label-name">{{'page-form.identity-number'|translate}}</label>
                        <div class="form-group input-group">
                          <input type="text" class="form-control" name="identityNo" formControlName="identityNo">
                        </div>
                      </div>
                      <div class=" ">
                        <label for="productionPlaceOfIdenity"
                          class="label-name">{{'page-form.issuer'|translate}}</label>
                        <div class="form-group">
                          <input type="text" class="form-control" name="productionPlaceOfIdenity"
                            formControlName="productionPlaceOfIdenity">
                        </div>
                      </div>
                      <div class=" ">
                        <label for="nationalityId" class="label-name">{{'page-form.nationality'|translate}}</label>
                        <div class="input-group popup">
                          <ng-select formControlName="nationalityId" name="nationalityId" id="nationalityId"
                            style="width:100%">
                            <ng-option *ngFor="let item of nationalities;" [value]="item.id">
                              {{lang=='ar'? item.nationalityNameAr:item.nationalityNameEn}}
                            </ng-option>
                          </ng-select>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="jobTitle" class="label-name">{{'page-form.job-title'|translate}}</label>
                        <div class="form-group">
                          <input type="text" class="form-control" name="jobTitle" formControlName="jobTitle">
                        </div>
                      </div>
                      <div class=" ">
                        <label for="productionDateIdentity"
                          class="label-name">{{'page-form.production-identity-date'|translate}}
                        </label>
                        <div class="form-group">
                          <app-full-date name="productionDateIdentity" [selectedDate]="productionDateIdentity"
                            (OnDateSelect)="getProductionDateIdentity($event)">
                          </app-full-date>
                        </div>
                      </div>
                      <div class=" ">
                        <label for="expireDateOfNationalIdNumber"
                          class="label-name">{{'page-form.expiration-date-of-identity'|translate}}
                        </label>
                        <div class="form-group input-group">
                          <app-full-date name="expireDateOfNationalIdNumber"
                            [selectedDate]="expireDateOfNationalIdNumber"
                            (OnDateSelect)="getExpireDateOfNationalIdNumber($event)">
                          </app-full-date>
                          <div class="validation alert-danger" *ngIf="isProductionDateIdentityGreater">
                            <i class="fa fa-close"></i> {{'validation-messages.max-expire-date'|translate}}
                          </div>
                          <div class="validation alert-success"
                            *ngIf="isProductionDateIdentityGreater==false && onSelectExpireDateOfNationalId==true">
                            <i class="fa fa-check"></i> {{'validation-messages.valid-date'|translate}}
                          </div>



                        </div>
                      </div>
                      <div class="">
                        <label for="ownerId" class="label-name"><span class="text-danger">*</span>
                          {{'page-form.owner'|translate}}</label>
                        <div class="input-group popup">
                          <ng-select formControlName="ownerId" style="width:100%">
                            <ng-option *ngFor="let owner of owners"
                              [value]="owner.id">{{lang=='ar'?owner.nameAr:owner.nameEn}}</ng-option>
                          </ng-select>
                          <div *ngIf="(f['ownerId'].touched || f['ownerId'].dirty ) && f['ownerId'].invalid"
                            class="validation alert-danger">
                            <i class="fa fa-close "></i>
                            <span *ngIf="f['ownerId'].errors && f['ownerId'].errors['required']">
                              {{'validation-messages.required-field'|translate}}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr>
                  <ul ngbNav #nav="ngbNav" class="nav-tabs mt-3" hidden>
                    <li ngbNavItem>
                      <a ngbNavLink>{{'page-form.details-person-authorized-sign'|translate}}</a>
                      <ng-template ngbNavContent>
                        <div class="row">
                          <div class="col gap-2 grid grid-cols-3 ">
                            <div class="">
                              <label for="country" class="label-name">{{'page-form.country'|translate}}</label>
                              <div class="input-group popup">
                                <ng-select formControlName="addressCountryId" style="width:100%"
                                  (change)="onChangeCountry(VendorForm.value.addressCountryId)">
                                  <ng-option *ngFor="let country of countries" [value]="country.id">{{lang=='ar'?
                                    country.countryNameAr:country.countryNameEn}}
                                  </ng-option>
                                </ng-select>
                              </div>
                            </div>
                            <div class="">
                              <label for="region" class="label-name">{{'page-form.region'|translate}}</label>
                              <div class="input-group popup">
                                <ng-select formControlName="addressRegionId" style="width:100%"
                                  (change)="onChangeRegion(VendorForm.value.addressRegionId)">
                                  <ng-option *ngFor="let region of regions" [value]="region.id">{{lang=='ar'?
                                    region.regionNameAr:region.regionNameEn}}
                                  </ng-option>
                                </ng-select>
                              </div>
                            </div>
                            <div class="">
                              <label for="city" class="label-name">{{'page-form.city'|translate}}</label>
                              <div class="input-group popup">
                                <ng-select formControlName="addressCityId" style="width:100%"
                                  (change)="onChangeCity(VendorForm.value.addressCityId)">
                                  <ng-option *ngFor="let city of cities" [value]="city.id">{{lang=='ar'?
                                    city.cityNameAr:city.cityNameEn}}
                                  </ng-option>
                                </ng-select>
                              </div>
                            </div>
                            <div class="">
                              <label for="district" class="label-name">{{'page-form.district'|translate}}</label>
                              <div class="input-group popup">
                                <ng-select formControlName="addressDistrictId" style="width:100%">
                                  <ng-option *ngFor="let district of districts" [value]="district.id">{{lang=='ar'?
                                    district.districtNameAr:district.districtNameEn}}
                                  </ng-option>
                                </ng-select>
                              </div>
                            </div>
                            <div class=" ">
                              <label for="addressBlockNumber"
                                class="label-name">{{'page-form.address-block-number'|translate}}
                              </label>
                              <div class="form-group">
                                <input type="text" class="form-control" name="addressBlockNumber"
                                  formControlName="addressBlockNumber">
                              </div>
                            </div>
                            <div class=" ">
                              <label for="addressApartmentNumber"
                                class="label-name">{{'page-form.address-apartment-number'|translate}}
                              </label>
                              <div class="form-group">
                                <input type="text" class="form-control" name="addressApartmentNumber"
                                  formControlName="addressApartmentNumber">
                              </div>
                            </div>
                            <div class=" ">
                              <label for="addressPostalCode"
                                class="label-name">{{'page-form.address-postal-code'|translate}}
                              </label>
                              <div class="form-group">
                                <input type="text" class="form-control" name="addressPostalCode"
                                  formControlName="addressPostalCode">
                              </div>
                            </div>
                            <div class=" ">
                              <label for="addressAdditionalCode"
                                class="label-name">{{'page-form.address-additional-code'|translate}}
                              </label>
                              <div class="form-group">
                                <input type="text" class="form-control" name="addressAdditionalCode"
                                  formControlName="addressAdditionalCode">
                              </div>
                            </div>
                            <div class=" ">
                              <label for="address" class="label-name">{{'page-form.address-details'|translate}}
                              </label>
                              <div class="form-group">
                                <textarea class="form-control" name="address" formControlName="address">
                                                                                                                                                  </textarea>
                              </div>
                            </div>
                          </div>
                        </div>
                      </ng-template>
                    </li>
                  </ul>
                  <div [ngbNavOutlet]="nav" class="" hidden></div>
                </div>
              </div>
            </form>
            <!-- <div class="report-button">
                            <button class="btn btn-highlight btn-lg" (click)="saveCustomer()">
                            Save
                          </button>
                        </div> -->
          </div>
        </div>
      </div>
    </div>
  </div>
</section>